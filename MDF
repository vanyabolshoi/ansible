---
- name: Найти и показать файлы .mdf на Windows
  hosts: windows
  gather_facts: no

  tasks:
    - name: Найти файлы .mdf в C:\DataSQL
      win_find:
        paths: C:\DataSQL
        patterns: "*.mdf"
      register: mdf_files

    - name: Показать только имена файлов
      debug:
        msg: "{{ mdf_files.files | map(attribute='filename') | list }}"

    - name: Показать каждый файл на отдельной строке
      debug:
        msg: "{{ item.filename }}"
      loop: "{{ mdf_files.files }}"
